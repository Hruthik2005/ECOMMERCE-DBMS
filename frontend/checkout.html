<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Checkout</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="checkout-main-container">
    <header>
      <h1>Checkout</h1>
      <div class="header-actions">
        <button id="logoutButton" class="logout-btn" onclick="logout()">Logout</button>
        <a id="cartButton" class="cart-btn" href="cart.html">
          <span class="cart-icon">&#128722;</span>
          <span>Cart</span>
          <span class="cart-count" id="cartCount">0</span>
        </a>
      </div>
    </header>
    <main>
      <form class="checkout-form" id="checkoutForm" onsubmit="return completeCheckout(event)">
        <h2>Shipping Information</h2>
        <div class="form-group">
          <label for="fullname">Full Name</label>
          <input type="text" id="fullname" required>
        </div>
        <div class="form-group">
          <label for="address">Shipping Address</label>
          <input type="text" id="address" required>
        </div>
        <div class="form-group">
          <label for="email">Email Address</label>
          <input type="email" id="email" required>
        </div>
        <h2>Payment Information</h2>
        <div class="form-group">
          <label for="cardnumber">Card Number</label>
          <input type="text" id="cardnumber" maxlength="19" required placeholder="1234 5678 9012 3456">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="expdate">Expiry Date</label>
            <input type="text" id="expdate" maxlength="5" required placeholder="MM/YY">
          </div>
          <div class="form-group">
            <label for="cvv">CVV</label>
            <input type="text" id="cvv" maxlength="4" required placeholder="123">
          </div>
        </div>
        <div class="checkout-summary">
          <div class="checkout-total-row">
            <span>Total Items:</span>
            <span id="checkoutTotalItems">0</span>
          </div>
        </div>
        <button class="btn checkout-btn" type="submit">Complete Purchase</button>
        <a href="cart.html" class="btn" style="background:#888;margin-left:8px;">Back to Cart</a>
        <div id="checkoutMessage"></div>
      </form>
    </main>
    <footer>
      <p>&copy; 2025 Shop. All rights reserved.</p>
    </footer>
  </div>
  <script src="script.js"></script>
  <script>
    renderCheckoutSummary();
    function completeCheckout(event) {
      event.preventDefault();
      document.getElementById("checkoutMessage").innerHTML = '<span class="success">Thank you for your purchase! Your order has been placed.</span>';
      clearCart();
      setTimeout(() => { window.location.href = "index.html"; }, 2000);
      return false;
    }
  </script>
</body>
</html>
